{
  "version": 3,
  "sources": [
    "editor.js"
  ],
  "names": [
    "achievementTemplate",
    "document",
    "getElementById",
    "achievementsList",
    "querySelector",
    "addAchievementButton",
    "dateField",
    "deleteButton",
    "dropdown",
    "endYearField",
    "forthcomingBox",
    "ongoingBox",
    "addAchievement",
    "li",
    "content",
    "cloneNode",
    "appendChild",
    "confirmDeletion",
    "confirmed",
    "confirm",
    "ev",
    "preventDefault",
    "deleteAchievement",
    "isButton",
    "node",
    "classList",
    "contains",
    "parentNode",
    "getListItem",
    "tagName",
    "target",
    "remove",
    "toggleDateField",
    "required",
    "checked",
    "disabled",
    "toggleEndYearField",
    "updateType",
    "window",
    "location",
    "value",
    "onchange",
    "onclick"
  ],
  "mappings": ";;AAAA;;AAEA;;AAEA;;;;AAIA;AACA,IAAMA,sBAAuBC,SAASC,cAAT,wBAA7B;AACA,IAAMC,mBAAuBF,SAASG,aAAT,oBAA7B;AACA,IAAMC,uBAAuBJ,SAASC,cAAT,kBAA7B;AACA,IAAMI,YAAuBL,SAASC,cAAT,QAA7B;AACA,IAAMK,eAAuBN,SAASC,cAAT,UAA7B;AACA,IAAMM,WAAuBP,SAASC,cAAT,YAA7B;AACA,IAAMO,eAAuBR,SAASC,cAAT,WAA7B;AACA,IAAMQ,iBAAuBT,SAASC,cAAT,eAA7B;AACA,IAAMS,aAAuBV,SAASC,cAAT,WAA7B;;AAEA;AACA,IAAMU,iBAAiB,SAAjBA,cAAiB,GAAM;AAC3B,MAAMC,KAAKb,oBAAoBc,OAApB,CAA4BV,aAA5B,OAAgDW,SAAhD,CAA0D,IAA1D,CAAX;AACAZ,mBAAiBa,WAAjB,CAA6BH,EAA7B;AACD,CAHD;;AAKA,IAAMI,kBAAkB,SAAlBA,eAAkB,KAAM;;AAE5B,MAAMC,YAAYC,4IAAlB;;AAEA,MAAI,CAACD,SAAL,EAAgBE,GAAGC,cAAH;AAEjB,CAND;;AAQA,IAAMC,oBAAoB,SAApBA,iBAAoB,KAAM;;AAE9B,MAAMC,WAAW,SAAXA,QAAW,OAAQ;AACvB,QAAIC,KAAKC,SAAL,CAAeC,QAAf,SAAJ,EAAsC,OAAO,IAAP;AACtC,QAAIF,SAASrB,gBAAb,EAA+B,OAAO,KAAP;AAC/B,QAAIqB,KAAKG,UAAT,EAAqB,OAAOJ,SAASC,KAAKG,UAAd,CAAP;AACrB,WAAO,KAAP;AACD,GALD;;AAOA,MAAMC,cAAc,SAAdA,WAAc,OAAQ;AAC1B,QAAIJ,KAAKK,OAAL,SAAJ,EAA2B,OAAOL,IAAP;AAC3B,WAAOI,YAAYJ,KAAKG,UAAjB,CAAP;AACD,GAHD;;AAKA,MAAI,CAACJ,SAASH,GAAGU,MAAZ,CAAL,EAA0B;;AAE1B,MAAMjB,KAAKe,YAAYR,GAAGU,MAAf,CAAX;;AAEA,MAAMZ,YAAYC,4DAAlB;;AAEA,MAAID,SAAJ,EAAeL,GAAGkB,MAAH;AAEhB,CAtBD;;AAwBA,IAAMC,kBAAkB,SAAlBA,eAAkB,GAAM;AAC5B1B,YAAU2B,QAAV,GAAqB,CAACvB,eAAewB,OAArC;AACA5B,YAAU6B,QAAV,GAAqBzB,eAAewB,OAApC;AACD,CAHD;;AAKA,IAAME,qBAAqB,SAArBA,kBAAqB,GAAM;AAC/B3B,eAAawB,QAAb,GAAwB,CAACtB,WAAWuB,OAApC;AACAzB,eAAa0B,QAAb,GAAwBxB,WAAWuB,OAAnC;AACD,CAHD;;AAKA,IAAMG,aAAa,SAAbA,UAAa,KAAM;AACvBC,SAAOC,QAAP,eAA4BnB,GAAGU,MAAH,CAAUU,KAAtC;AACD,CAFD;;AAIA;AACAhC,SAASiC,QAAT,GAAoBJ,UAApB;;AAEA,IAAIlC,gBAAJ,EAAsBA,iBAAiBuC,OAAjB,GAA2BpB,iBAA3B;AACtB,IAAIjB,oBAAJ,EAA0BA,qBAAqBqC,OAArB,GAA+B9B,cAA/B;AAC1B,IAAIL,YAAJ,EAAkBA,aAAamC,OAAb,GAAuBzB,eAAvB;AAClB,IAAIP,cAAJ,EAAoBA,eAAe+B,QAAf,GAA0BT,eAA1B;AACpB,IAAIrB,UAAJ,EAAgBA,WAAW8B,QAAX,GAAsBL,kBAAtB",
  "file": "editor.js",
  "sourcesContent": [
    "// Client-side JavaScript for the admin Editor page\r\n\r\n/* eslint-env browser */\r\n\r\n/* eslint-disable\r\n  no-alert,\r\n*/\r\n\r\n// Elements\r\nconst achievementTemplate  = document.getElementById(`achievement-template`);\r\nconst achievementsList     = document.querySelector(`.achievements ul`);\r\nconst addAchievementButton = document.getElementById(`addAchievement`);\r\nconst dateField            = document.getElementById(`date`);\r\nconst deleteButton         = document.getElementById(`delete`);\r\nconst dropdown             = document.getElementById(`dropdown`);\r\nconst endYearField         = document.getElementById(`endYear`);\r\nconst forthcomingBox       = document.getElementById(`forthcoming`);\r\nconst ongoingBox           = document.getElementById(`ongoing`);\r\n\r\n// Handlers\r\nconst addAchievement = () => {\r\n  const li = achievementTemplate.content.querySelector(`li`).cloneNode(true);\r\n  achievementsList.appendChild(li);\r\n};\r\n\r\nconst confirmDeletion = ev => {\r\n\r\n  const confirmed = confirm(`Are you sure you want to delete this CV item? It will still be accessible for 30 days in the database if you decide to delete it.`);\r\n\r\n  if (!confirmed) ev.preventDefault();\r\n\r\n};\r\n\r\nconst deleteAchievement = ev => {\r\n\r\n  const isButton = node => {\r\n    if (node.classList.contains(`trash`)) return true;\r\n    if (node === achievementsList) return false;\r\n    if (node.parentNode) return isButton(node.parentNode);\r\n    return false;\r\n  };\r\n\r\n  const getListItem = node => {\r\n    if (node.tagName === `LI`) return node;\r\n    return getListItem(node.parentNode);\r\n  };\r\n\r\n  if (!isButton(ev.target)) return;\r\n\r\n  const li = getListItem(ev.target);\r\n\r\n  const confirmed = confirm(`Are you sure you want to delete this achievement?`);\r\n\r\n  if (confirmed) li.remove();\r\n\r\n};\r\n\r\nconst toggleDateField = () => {\r\n  dateField.required = !forthcomingBox.checked;\r\n  dateField.disabled = forthcomingBox.checked;\r\n};\r\n\r\nconst toggleEndYearField = () => {\r\n  endYearField.required = !ongoingBox.checked;\r\n  endYearField.disabled = ongoingBox.checked;\r\n};\r\n\r\nconst updateType = ev => {\r\n  window.location = `/admin/${ev.target.value}`;\r\n};\r\n\r\n// Attach handlers\r\ndropdown.onchange = updateType;\r\n\r\nif (achievementsList) achievementsList.onclick = deleteAchievement;\r\nif (addAchievementButton) addAchievementButton.onclick = addAchievement;\r\nif (deleteButton) deleteButton.onclick = confirmDeletion;\r\nif (forthcomingBox) forthcomingBox.onchange = toggleDateField;\r\nif (ongoingBox) ongoingBox.onchange = toggleEndYearField;\r\n"
  ]
}