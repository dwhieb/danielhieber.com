{
  "version": 3,
  "sources": [
    "editor.js"
  ],
  "names": [
    "achievementTemplate",
    "document",
    "getElementById",
    "achievementsList",
    "addAchievementButton",
    "addLinkButton",
    "dateField",
    "deleteButton",
    "dropdown",
    "endYearField",
    "forthcomingBox",
    "linksList",
    "linkTemplate",
    "ongoingBox",
    "getListItem",
    "node",
    "tagName",
    "parentNode",
    "isDeleteButton",
    "classList",
    "contains",
    "addAchievement",
    "li",
    "content",
    "querySelector",
    "cloneNode",
    "appendChild",
    "addLink",
    "name",
    "value",
    "confirmDeletion",
    "preventDefault",
    "confirmed",
    "confirm",
    "deleteAchievement",
    "target",
    "remove",
    "deleteLink",
    "toggleDateField",
    "required",
    "checked",
    "disabled",
    "toggleEndYearField",
    "updateLinkType",
    "type",
    "inputField",
    "nextElementSibling",
    "updateType",
    "window",
    "location",
    "onchange",
    "onclick"
  ],
  "mappings": "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",
  "file": "editor.js",
  "sourcesContent": [
    "// Client-side JavaScript for the admin Editor page\r\n\r\n/* eslint-env browser */\r\n\r\n/* eslint-disable\r\n  no-alert,\r\n*/\r\n\r\n// Elements\r\nconst achievementTemplate  = document.getElementById(`achievement-template`);\r\nconst achievementsList     = document.getElementById(`achievements`);\r\nconst addAchievementButton = document.getElementById(`addAchievement`);\r\nconst addLinkButton        = document.getElementById(`addLink`);\r\nconst dateField            = document.getElementById(`date`);\r\nconst deleteButton         = document.getElementById(`delete`);\r\nconst dropdown             = document.getElementById(`dropdown`);\r\nconst endYearField         = document.getElementById(`endYear`);\r\nconst forthcomingBox       = document.getElementById(`forthcoming`);\r\nconst linksList            = document.getElementById(`links`);\r\nconst linkTemplate         = document.getElementById(`link-template`);\r\nconst ongoingBox           = document.getElementById(`ongoing`);\r\n\r\n// Utilities\r\nconst getListItem = node => {\r\n  if (node.tagName === `LI`) return node;\r\n  return getListItem(node.parentNode);\r\n};\r\n\r\nconst isDeleteButton = node => {\r\n  if (node.classList && node.classList.contains(`trash`)) return true;\r\n  if (node === achievementsList) return false;\r\n  if (node.parentNode) return isDeleteButton(node.parentNode);\r\n  return false;\r\n};\r\n\r\n// Handlers\r\nconst addAchievement = () => {\r\n  const li = achievementTemplate.content.querySelector(`li`).cloneNode(true);\r\n  achievementsList.appendChild(li);\r\n};\r\n\r\nconst addLink = () => {\r\n  const li = linkTemplate.content.querySelector(`li`).cloneNode(true);\r\n  linksList.appendChild(li);\r\n  li.querySelector(`input`).name = li.querySelector(`select`).value;\r\n};\r\n\r\nconst confirmDeletion = ({ preventDefault }) => {\r\n\r\n  const confirmed = confirm(`Are you sure you want to delete this CV item? It will still be accessible for 30 days in the database if you decide to delete it.`);\r\n\r\n  if (!confirmed) preventDefault();\r\n\r\n};\r\n\r\nconst deleteAchievement = ({ target }) => {\r\n  if (!isDeleteButton(target)) return;\r\n  const li = getListItem(target);\r\n  const confirmed = confirm(`Are you sure you want to delete this achievement? It cannot be undone.`);\r\n  if (confirmed) li.remove();\r\n};\r\n\r\nconst deleteLink = ({ target }) => {\r\n  if (!isDeleteButton(target)) return;\r\n  const li = getListItem(target);\r\n  const confirmed = confirm(`Are you sure you want to delete this link? It cannot be undone.`);\r\n  if (confirmed) li.remove();\r\n};\r\n\r\nconst toggleDateField = () => {\r\n  dateField.required = !forthcomingBox.checked;\r\n  dateField.disabled = forthcomingBox.checked;\r\n};\r\n\r\nconst toggleEndYearField = () => {\r\n  endYearField.required = !ongoingBox.checked;\r\n  endYearField.disabled = ongoingBox.checked;\r\n};\r\n\r\nconst updateLinkType = ({ target }) => {\r\n  const type       = target.value;\r\n  const inputField = target.nextElementSibling;\r\n  inputField.name  = type;\r\n};\r\n\r\nconst updateType = ({ target: { value } }) => {\r\n  window.location = `/admin/${value}`;\r\n};\r\n\r\n// Attach handlers\r\ndropdown.onchange = updateType;\r\n\r\nif (achievementsList) achievementsList.onclick = deleteAchievement;\r\nif (addAchievementButton) addAchievementButton.onclick = addAchievement;\r\nif (addLinkButton) addLinkButton.onclick = addLink;\r\nif (deleteButton) deleteButton.onclick = confirmDeletion;\r\nif (forthcomingBox) forthcomingBox.onchange = toggleDateField;\r\nif (ongoingBox) ongoingBox.onchange = toggleEndYearField;\r\n\r\nif (linksList) {\r\n  linksList.onclick  = deleteLink;\r\n  linksList.onchange = updateLinkType;\r\n}\r\n"
  ]
}