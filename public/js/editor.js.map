{
  "version": 3,
  "sources": [
    "editor.js"
  ],
  "names": [
    "achievementTemplate",
    "document",
    "getElementById",
    "achievementsList",
    "addAchievementButton",
    "addLinkButton",
    "dateField",
    "deleteButton",
    "dropdown",
    "endYearField",
    "fileUpload",
    "forthcomingBox",
    "linksList",
    "linkTemplate",
    "ongoingBox",
    "uploadFileButton",
    "getListItem",
    "node",
    "tagName",
    "parentNode",
    "isDeleteButton",
    "classList",
    "contains",
    "addAchievement",
    "li",
    "content",
    "querySelector",
    "cloneNode",
    "appendChild",
    "addLink",
    "name",
    "value",
    "confirmDeletion",
    "preventDefault",
    "confirmed",
    "confirm",
    "deleteAchievement",
    "target",
    "remove",
    "deleteLink",
    "toggleDateField",
    "required",
    "checked",
    "disabled",
    "toggleEndYearField",
    "updateLinkType",
    "type",
    "inputField",
    "nextElementSibling",
    "updateType",
    "window",
    "location",
    "validateFile",
    "files",
    "length",
    "setCustomValidity",
    "onchange",
    "onclick"
  ],
  "mappings": "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",
  "file": "editor.js",
  "sourcesContent": [
    "// Client-side JavaScript for the admin Editor page\r\n\r\n/* eslint-env browser */\r\n\r\n/* eslint-disable\r\n  no-alert,\r\n*/\r\n\r\n// Elements\r\nconst achievementTemplate  = document.getElementById(`achievement-template`);\r\nconst achievementsList     = document.getElementById(`achievements`);\r\nconst addAchievementButton = document.getElementById(`addAchievement`);\r\nconst addLinkButton        = document.getElementById(`addLink`);\r\nconst dateField            = document.getElementById(`date`);\r\nconst deleteButton         = document.getElementById(`delete`);\r\nconst dropdown             = document.getElementById(`dropdown`);\r\nconst endYearField         = document.getElementById(`endYear`);\r\nconst fileUpload           = document.getElementById(`fileUpload`);\r\nconst forthcomingBox       = document.getElementById(`forthcoming`);\r\nconst linksList            = document.getElementById(`links`);\r\nconst linkTemplate         = document.getElementById(`link-template`);\r\nconst ongoingBox           = document.getElementById(`ongoing`);\r\nconst uploadFileButton     = document.getElementById(`uploadFileButton`);\r\n\r\n// Utilities\r\nconst getListItem = node => {\r\n  if (node.tagName === `LI`) return node;\r\n  return getListItem(node.parentNode);\r\n};\r\n\r\nconst isDeleteButton = node => {\r\n  if (node.classList && node.classList.contains(`trash`)) return true;\r\n  if (node === achievementsList) return false;\r\n  if (node.parentNode) return isDeleteButton(node.parentNode);\r\n  return false;\r\n};\r\n\r\n// Handlers\r\nconst addAchievement = () => {\r\n  const li = achievementTemplate.content.querySelector(`li`).cloneNode(true);\r\n  achievementsList.appendChild(li);\r\n};\r\n\r\nconst addLink = () => {\r\n  const li = linkTemplate.content.querySelector(`li`).cloneNode(true);\r\n  linksList.appendChild(li);\r\n  li.querySelector(`input`).name = li.querySelector(`select`).value;\r\n};\r\n\r\nconst confirmDeletion = ({ preventDefault }) => {\r\n\r\n  const confirmed = confirm(`Are you sure you want to delete this CV item? It will still be accessible for 30 days in the database if you decide to delete it.`);\r\n\r\n  if (!confirmed) preventDefault();\r\n\r\n};\r\n\r\nconst deleteAchievement = ({ target }) => {\r\n  if (!isDeleteButton(target)) return;\r\n  const li = getListItem(target);\r\n  const confirmed = confirm(`Are you sure you want to delete this achievement? It cannot be undone.`);\r\n  if (confirmed) li.remove();\r\n};\r\n\r\nconst deleteLink = ({ target }) => {\r\n  if (!isDeleteButton(target)) return;\r\n  const li = getListItem(target);\r\n  const confirmed = confirm(`Are you sure you want to delete this link? It cannot be undone.`);\r\n  if (confirmed) li.remove();\r\n};\r\n\r\nconst toggleDateField = () => {\r\n  dateField.required = !forthcomingBox.checked;\r\n  dateField.disabled = forthcomingBox.checked;\r\n};\r\n\r\nconst toggleEndYearField = () => {\r\n  endYearField.required = !ongoingBox.checked;\r\n  endYearField.disabled = ongoingBox.checked;\r\n};\r\n\r\nconst updateLinkType = ({ target }) => {\r\n  const type       = target.value;\r\n  const inputField = target.nextElementSibling;\r\n  inputField.name  = type;\r\n};\r\n\r\nconst updateType = ({ target: { value } }) => {\r\n  window.location = `/admin/${value}`;\r\n};\r\n\r\nconst validateFile = ({ preventDefault }) => {\r\n  if (!fileUpload.files.length) {\r\n    fileUpload.setCustomValidity(`Please select a file to upload.`);\r\n    preventDefault();\r\n  }\r\n};\r\n\r\n// Attach handlers\r\ndropdown.onchange = updateType;\r\n\r\nif (achievementsList) achievementsList.onclick = deleteAchievement;\r\nif (addAchievementButton) addAchievementButton.onclick = addAchievement;\r\nif (addLinkButton) addLinkButton.onclick = addLink;\r\nif (deleteButton) deleteButton.onclick = confirmDeletion;\r\nif (forthcomingBox) forthcomingBox.onchange = toggleDateField;\r\nif (ongoingBox) ongoingBox.onchange = toggleEndYearField;\r\nif (uploadFileButton) uploadFileButton.onclick = validateFile;\r\n\r\nif (linksList) {\r\n  linksList.onclick  = deleteLink;\r\n  linksList.onchange = updateLinkType;\r\n}\r\n"
  ]
}